<div ng-if="!showMap" class="loading">
  <img src="images/loading.gif" alt="loading" />
</div>
<div ng-if="showMap" class="row">
  <div class="col-md-2 no-padding" id="filters">
    <h4 class="side-top">Filters</h4>
    <a ng-click="toggleLeft()" id="close-left" class="btn btn-primary btn-success close-button-left"><span id="close-icon-left" class="glyphicon glyphicon-minus"></span> </a>
    <div class="scroller">
    <form ng-submit="playgroundFilter(filterForm)" name="filterForm" id="filterForm">
      <div class="input-group">
        <input type="text" name="searchFilter" class="form-control" placeholder="Search..." ng-model="searchFilter">
						<span class="input-group-btn">
							<button type="submit" class="btn btn-default">
								<span class="glyphicon glyphicon-search">
									<span class="sr-only">Search...</span>
								</span>
                            </button>
						</span>
      </div>

      <ul class="list-group">
        <li class="list-group-item">
          Enclosed
          <div class="material-switch pull-right">
            <input id="someSwitchOptionSuccess" name="enclosedFilter" type="checkbox" ng-model="enclosedFilter"/>
            <label for="someSwitchOptionSuccess" class="label-success"></label>
          </div>
        </li>
        <li class="list-group-item">
          Surface
          <div class="radio">
            <label><input type="radio" name="surfaceFilter" ng-model="surfaceFilter" value="grass">Grass</label>
          </div>
          <div class="radio">
            <label><input type="radio"  name="surfaceFilter" ng-model="surfaceFilter" value="Sand">Sand</label>
          </div>
          <div class="radio">
            <label><input type="radio"  name="surfaceFilter" ng-model="surfaceFilter" value="Padded">Padded</label>
          </div>
        </li>
        <li class="list-group-item">
          Age Range
          <div class="radio">
            <label><input type="radio" name="ageFilter" ng-model="ageFilter" value="03" />0-3</label>
          </div>
          <div class="radio">
            <label><input type="radio" name="ageFilter" ng-model="ageFilter" value="36"/>3-6</label>
          </div>
          <div class="radio">
            <label><input type="radio" name="ageFilter" ng-model="ageFilter" value="6" />6+</label>
          </div>
        </li>
      </ul>
      <button class="btn btn-success" ng-click="resetMap()"  >Reset</button>  <input class="btn btn-success" type="submit" value="Filter">
    </form>
    </div>
  </div>
  <div class="app-background">
    <ui-gmap-google-map center='map.center' control="map.control" zoom='map.zoom' draggable="true" events="map.events" bounds="map.bounds"  options="options">
      <ui-gmap-markers type="'cluster'" fit="true" chunk='1000'  labelContent="'title'" typeOptions='{maxZoom: 8, title:"Click To Zoom", styles:[{url:"images/icons/playground.png", height:50, width:50, textSize:20}]}' click="onClick" models="markers" icon="'icon'" coords="'coords'" idkey="markers.id" events="markers.events" modelsbyref="false"></ui-gmap-markers>
    </ui-gmap-google-map>
  </div>
  <div class="col-md-7">
    <div ng-if="showView" class="playground-view">

      <a ng-click="viewPlayground()" id="close-button-view" class="btn btn-primary btn-success close-button-view"><span id="close-view-icon" class="glyphicon glyphicon-minus"></span> </a>
      <div>
        <h3>
          {{selectedMarker.title}}
        </h3>
        <img class="thumbnail" src="images/playgrounds/{{selectedMarker.images}}" />
        <p><strong>County:</strong> {{selectedMarker.county}}</p>
        <p><strong>Surface:</strong> {{selectedMarker.surface}}</p>
        <p><strong>Age:</strong> {{selectedMarker.age}}</p>
        <p ng-if="selectedMarker.isEnclosed"><strong>Is Enclosed</strong></p>
        <p><strong>Facilities:</strong> {{selectedMarker.facilities}}</p>
        <div class="reviews">
          <ul ng-if="selectedMarker.reviews">
            <li ng-repeat="review in selectedMarker.reviews">
              <blockquote class="quote-box">
                <p class="quotation-mark">
                  â€œ
                </p>
                <p class="quote-text">
                 {{ review.body }}
                </p>
                <hr>
                <div class="blog-post-actions">
                  <p class="blog-post-bottom pull-left">
                    {{ review.username }}
                  </p>
                  <p class="blog-post-bottom pull-right">
                    <span class="badge quote-badge">{{review.date}}</span>
                  </p>
                </div>
              </blockquote>
            </li>
          </ul>

        </div>
      </div>

    </div>
  </div>
  <div class="col-md-3 no-padding ">
    <h4 class="side-top">Playground List</h4>
    <a ng-click="toggleRight()" id="close-right" class="btn btn-primary btn-success close-button"><span id="close-icon" class="glyphicon glyphicon-minus"></span> </a>
    <a ng-href="#/playground/add" class="btn btn-primary btn-success add-button"><span class="glyphicon glyphicon-cloud-upload"></span></a>
    <div class="side-control scroller">
    <ul class="playground-list" id="right-controls">
      <li ng-repeat="marker in markers">
        <div ng-if="!(marker.id==selectedMarker.id)" ng-click="selectMarkerById(marker.id)">
          <img class="list-image pull-right" src="images/playgrounds/{{marker.options.images }}" />
          <h4 class="playground-click">
            {{marker.options.title}}
          </h4>
          <span class="county">{{marker.options.county}}</span>

        </div>
        <div ng-if="marker.id==selectedMarker.id" class="selected-marker">
          <h3>
            {{selectedMarker.title}}
          </h3>
          <img src="images/playgrounds/{{selectedMarker.images}}" />
          <p><strong>County:</strong> {{selectedMarker.county}}</p>
          <p><strong>Surface:</strong> {{selectedMarker.surface}}</p>
          <p><strong>Age:</strong> {{selectedMarker.age}}</p>
          <p ng-if="selectedMarker.isEnclosed"><strong>Is Enclosed</strong></p>
          <p><strong>Facilities:</strong> {{selectedMarker.facilities}}</p>
          <a class="btn btn-default" ng-click="viewPlayground()">Details</a>
          <a ng-if="isCreator(selectedMarker.userID)" class="btn btn-default" ng-href="#/edit/{{selectedMarker.id}}">Edit</a>
          <button  class="btn btn-default" ng-click="getDirections()">Directions</button>
          <button  class="btn btn-default" ng-click="getWeather()">Weather</button><br>
          <div ng-if="directions">
            <button  class="btn btn-default" ng-click="setTravelMode('DRIVING')">Driving</button><button class="btn btn-default" ng-click="setTravelMode('WALKING')">Walking</button>
            <button class="btn btn-default" ng-click="setTravelMode('CYCLING')">Cycling</button>
            <button class="btn btn-default" ng-click="setTravelMode('TRANSIT')">Transit</button>
          </div>
          <div id="weather"></div>
          <hr>
          <div id="map-directions"></div>
        </div>
      </li>
    </ul>
      </div>
  </div>
</div>






